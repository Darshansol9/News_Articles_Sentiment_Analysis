(CNN) The man who fatally shot a state trooper at a Greyhound bus station in Richmond had a long criminal record, the head of the Virginia State Police said Friday.James Brown III had faced multiple gun violence and drug charges in Illinois, Col. W. Steven Flaherty told reporters. The .40-caliber pistol Brown used to kill Trooper Chad Dermyer was purchased 13 months ago by another person, Flaherty said."It's very troubling that he would have a gun," Flaherty said. "It's very troubling that he's out, given the history that he has."Here's a look at what we know about the incident:The victimsDermyer, 37, is survived by his wife and two children, Flaherty said."He was a certainly a professional, a beloved father and husband, and a neighbor and friend to so many," Flaherty said.Dermyer was the vice president of his trooper class, which graduated in November 2014.A native of Michigan, Dermyer had served four years in the Marine Corps. He previously has been a police officer with Jackson, Michigan for three years and Newport News, Virginia, for four years.He'd recently transferred to the counterterrorism and criminal interdiction unit, Flaherty said.Two women, bus passengers, were taken to a hospital for treatment. Their injuries were not life-threatening. A 21-year-old woman from Wingdale, New York, was grazed by a bullet. A 47-year-old woman from Jacksonville, North Carolina, was hit once.It is unclear who shot the womenTerrible news out of Richmond today. Praying for those wounded at the Greyhound station & first responders â€” Senator Tim Kaine (@timkaine) March 31, 2016The suspectBrown, 34, was killed by other troopers, Virginia State Police said.He was traveling from Raleigh, North Carolina, to Chicago. There is no evidence anyone was traveling with him.He was well known to police in the Chicago suburb of Aurora, Flaherty said.Officials have found no evidence the suspect was the subject of a warrant, according to Flaherty.Investigators are still trying to figure out his motive for the shooting.The Bureau of Alcohol, Tobacco, Firearms and Explosives is tracing the firearm to see what happened after it was apparently legally purchased.How the shooting unfoldedDermyer was among 17 troopers participating in an operation on criminal interdiction practices. Dermyer and other new troopers were at the Greyhound station as training, which teaches troopers to look for suspicious activity and engage, Flaherty said.Brown had been sitting in the restaurant at the bus station and went to his luggage near the front entrance.He began to walk away from his bags.Dermyer approached the suspect. Shortly after the two talked for a few seconds, with the suspect to the trooper's immediate right, Brown pulled a gun from his waistband and shot Dermyer from just inches away.Two plain-clothed troopers standing nearby returned fire."I had my hand on the door handle when I heard two gunshots go off. I didn't think they were gunshots, but then there were like five, maybe 10 more after that," witness Brendan Hamilton told CNN affiliate WWBT. "I ran out of there. I saw people coming out the front door, the side door, the door to the restaurant, and so I just bailed as fast as I could."Brown was taken to a hospital, where he died.There were two 30-round magazines and 143 rounds of ammunition in Brown's bags. No drugs were found.The sceneMedics were there for the operation, and Richmond ambulances also arrived quickly, officials saidThe Greyhound station was closed as it remained an active crime scene.Drug dogs were at the station but Flaherty didn't know if they were there for the operation.Yellow tape cordoned off the area after the shooting.Video showed multiple law enforcement agencies responding. Police cars blocked streets, and yellow tape cordoned off the area.Greyhound said it was rerouting inbound schedules to its Richmond garage until further notice and is offering counselors to its employees and customers.