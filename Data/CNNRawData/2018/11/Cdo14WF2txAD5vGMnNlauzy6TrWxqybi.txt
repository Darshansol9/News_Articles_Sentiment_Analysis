(CNN) The Borderline Bar & Grill was packed as patrons danced, watched a Lakers' game or played pool. It was country college night , and people swayed to the beat as music blared through speakers.Suddenly, a man wearing a black trench coat and glasses approached the bar entrance and shot the security guard.Inside the bar, some people thought it was fireworks or sound effects from the music, and kept dancing, witnesses said.Jason Coffman displays a photo of his son, Cody, who was killed in the shooting at the bar in Thousand Oaks.Within seconds, witnesses said, the gunman burst into the bar with a Glock .45-caliber handgun and shot someone at the cash register. People dropped to the ground and hid under pool tables and bar stools. Some piled atop one another while others slammed bar stools against windows to break them.Those who got out ran, the rapid gunfire echoing around them in the dark."They ran out of back doors, they broke windows, they went through windows, they hid up in the attic, they hid in the bathroom," Ventura County Sheriff Geoff Dean said.Thousand Oaks, California, described as one of the nation's safest cities, was now on the long list of places affected by a mass shooting.Friends and family mourn Ventura Country sheriff Sgt. Ron Helus, who was killed in a shooting at Borderline Bar.With every gunshot, they shiveredThe bar is a popular meeting spot among students from nearby universities, some of whom don cowboy hats and boots on theme nights such as Wednesday's. When the gunfire erupted shortly after 11 p.m., it was packed with young people, including a group celebrating a birthday.Sunny Leon was at the back of the dance floor, and initially thought it was fireworks or part of the song. "It sounded really weird," she said.When the sounds grew louder and closer, people started screaming. She dropped to the ground and crawled closer to the bar.People watch as police vehicles close off the area outside a country music bar and dance hall in Thousand Oaks."I remember when I was on the ground, seeing a girl getting trampled," she said. "Because I was against the wall, I was OK. But she was getting trampled."Tristan Appleby said he watched everything unfold from across the room. He saw a man dressed in black holding a gun with a flashlight and repeatedly shooting people laying on the ground."Luckily, he didn't come my way," Appleby said. "I was across the room behind a pool table hiding underneath with my friends."Appleby said with every shot, the people lying underneath him shivered and squirmed. He kept his eye on the gunman, and when he paused to reload, Appleby whispered to others that it was time to rush to the exit."I said, 'We go,' and we ran," he said. "I don't know how I survived because at any moment, I could have been shot."She followed her friend's orders and livedSarah Rose Deson was at the club for her friend's birthday. When the gunman burst in, her friend, Cody Coffman, yelled for her to get down."I fell to the floor and hid behind him and just tucked myself in his back," she said. There was "a bunch of sparks and smoke everywhere," she said. Coffman soon told her it was time to get out.People wait in line to give blood for the victims of Wednesday night's shooting."I don't even remember in this blur, but I ran for my life," Deson said.She got out through the front entrance -- the same one the shooter had stormed through moments earlier. She tumbled down in the parking lot, got up and kept running until she got to a nearby gas station."He's one of the reasons that I'm here right now," she said. "I didn't know what to do. I just followed him, I dropped down and I hid with him. I know he was put in my life for a reason. He'll always be my hero, and now he's my angel."Deputies found a scene 'like hell'When reports of the shooting started coming in to law enforcement about 11:20 p.m., Helus, the sheriff's sergeant, was talking to his wife.He told her, "'Hey, I have to handle a call. I love you. I'll talk to you later,'" Dean said.Within two minutes, he was on the scene. The gunman was still firing.Helus and a highway patrol officer rushed into the bar and exchanged gunfire with the shooter, Dean said.Helus was shot several times before an officer pulled him out and waited for reinforcements, he said.A car in a procession carries the body of Ventura County sheriff's Sgt. Ron Helus.Police waited close to 15 minutes, until the shots died down, and regrouped with more officers, Dean said. They went into the bar and found the shooter -- Ian David Long , 28, a former US Marine, according to police -- had fatally shot himself next to the bar entrance.The scene was "like hell" when deputies arrived, Dean said. Police found patrons hiding in the attic. Some were so terrified, they asked officers to confirm they weren't the gunman, he said.Outside the bar, frantic parents waited for word of their children. And survivors of the latest mass shooting in the US huddled together, tearfully embracing amid police cars' flashing lights.