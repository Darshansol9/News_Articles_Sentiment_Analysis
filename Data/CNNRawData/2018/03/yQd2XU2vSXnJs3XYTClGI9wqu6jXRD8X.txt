Tallahassee, Florida (CNN) In the wake of the deadly shooting in Parkland, Florida, state lawmakers are struggling to reach a consensus on new regulations to protect schools.With only five days to go in the legislative session, state senators debated into the weekend, holding a rare Saturday session that lasted eight hours.Here's a look at the main issues on the table, and what to expect this week.What's being consideredSenators debated a measure Saturday officially titled the "Marjory Stoneman Douglas High School Public Safety Act" (SB 7026). It would:raise the age to purchase a firearm from 18 to 21,require a three-day waiting period for gun purchases, with some exceptions,ban the sale or possession of bump fire stocks, which can make it easier for a semi-automatic weapon to function like an automatic rifle,give law enforcement more power to seize weapons and ammunition from those deemed mentally unfit or otherwise a threat,provide additional funding for armed school resource officers and for mental health services.A controversial provision to arm teachers has become a key sticking point for Florida lawmakers.A provision that requires school marshals to undergo at least 12 hours of diversity training -- an attempt to allay the concerns put forward by several members of the black caucus -- was one of just two Democratic amendments that was approved.Acknowledging the difficulty of coming to an agreement, the bill's sponsor, Republican state Sen. Bill Galvano, stressed that the measure was meant to be the first in a series of steps to ensure that another mass shooting is avoided."I will tell you at the onset that I think this journey is just beginning. It truly is," said Galvano, who represents Manatee County and part of Hillsborough County in the Tampa area. "We have to start somewhere and we have to take seriously, more seriously than ever before, the issue of security in our schools and safety in our schools."What's already been ruled outLast week, the Senate Appropriations Committee voted down an amendment to ban assault and assault-style weapons , and an amendment to create a firearms registry.At one point on Saturday, the Senate approved a two-year moratorium on the sale of AR-15-style rifles, but that amendment was brought up again for reconsideration by a Republican member and failed upon a second vote.Another Democratic amendment that failed would have allowed local authorities to make gun regulations for their communities.A Florida Quinnipiac poll released last week showed that 62% of Florida residents support a nationwide ban on the sale of assault weapons and a nationwide ban on the sale of high-capacity magazines. Fifty-six percent oppose allowing teachers and school officials to carry guns on school grounds, but amendments in line with those views were voted down in the Republican-controlled chamber.Sheryl Acquarola, a 16 year-old junior from Marjory Stoneman Douglas High School, is overcome with emotion after representatives voted not to hear a bill banning assault rifles and large capacity magazines on February 20.Debate over arming teachersThe bill included a proposed "marshal program" that would allow teachers or other school staff to be armed as deputized sheriff's marshals, after undergoing 144 hours of training and meeting other criteria.Discussion of the proposed program dominated the eight-hour session Saturday, as several people wearing T-shirts saying "Moms Demand Action for Gun Control" looked on.Many students, teachers and parents have expressed opposition to the program, as has Gov. Rick Scott.The program would be voluntary, implemented only on the recommendation of the county sheriff and the school district. No school personnel would be required to take part.Senators spent an hour and 15 minutes debating an amendment offered by Sen. Oscar Braynon II, the leader of the Democratic caucus, that would have stripped the marshals program from the bill."This is too divisive. I agree to work on it. I agree. I'm there. I'm agreeing to work on it, but let's not do this to the body right now,'' said Braynon, who represents parts of Broward and Miami-Dade counties, arguing that including such a program in the legislation would "tear us apart as a body."The chair of the Senate's black caucus, Sen. Perry Thurston, agreed."No way, no form, no shape. This is a nonstarter," said Thurston, a Democrat who represent part of Broward County in South Florida.Several Democratic members expressed concerns about potential unintended consequences of arming teachers and about the amount of discretion given to sheriffs to set the program's rules in each district. Some wanted to know whether sheriffs could allow teachers to be armed with AR-15s that would not be required to be concealed -- an idea Sen. Galvano later told CNN was "far-fetched."What's nextThe Florida Senate is expected to vote on the legislation on Monday, with the Republican-controlled House set to take up the bill next.Some Democrats in both houses argue the bill's gun control measures do not go far enough. Some Republicans in both houses contend they go too far.While Gov. Scott has been vocal in his opposition to arming teachers, he has not said whether he would veto any legislation that includes such a provision.With the debate over the legislation coming down to the wire, Fred Piccolo, a spokesman for House Speaker Richard Corcoran, a Republican who represents part of Pasco County north of Tampa, told CNN Friday he does not expect the governor to veto a bill that has passed both chambers. Doing so would mean calling the legislature back into session, leading to more amendments and back-and-forth that "wouldn't end well."Piccolo said the arming of teachers, contentious as it is, will likely remain in the bill as it moves through the House in part, because of strong support from Republicans."We're taking on our sacred cow," Piccolo said of the National Rifle Association, pointing to gun control measures -- raising the purchase age, the three-day waiting period and the ban on bump stocks -- included in both house's versions of the bill. He argued that having given ground on these issues, removing the marshal program would leave Republicans short a key "win" needed to garner their support.The school safety plan Scott proposed is otherwise mostly in line with the bill the Senate is considering.Among other things, Scott wants to provide millions of dollars in funding to "harden" schools with a variety of security measures like requiring at least one armed school resource officer for every 1,000 students; institute measures to keep weapons out of the hands of the violent or mentally ill; ban bump stocks and expand mental health services statewide. Unlike the bills being considered in both houses, Scott's plan did not propose a three-day waiting period for gun purchases.