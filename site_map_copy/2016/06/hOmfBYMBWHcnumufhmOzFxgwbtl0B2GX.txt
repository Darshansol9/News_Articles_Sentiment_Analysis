(CNN) Each day brings new revelations about the man who killed 49 people at an Orlando gay nightclub this week.Many are disturbing. Some give insight into what the killer was like. Some things we learned Friday make it seem like he was a man preparing to die.The details also raise the question of what the people who touched his life knew, and whether they could have done anything to help prevent the largest mass shooting in modern U.S. history.But even with the picture of a killer coming into clearer focus, we still why don't know exactly why the man went into a bar with an assault-style rifle and a pistol, opened fire without warning and ended 49 lives while injuring dozens more.Friday's developments include:--School records that reveal he was in constant trouble as early as elementary school and throughout high school--Law enforcement academy documents that reported he asked a fellow recruit in 2007 whether the classmate would report him if he brought a gun to school. The shooter, who also was caught sleeping in class several times, was later dismissed.--Sources who told CNN the shooter in recent months apparently had made financial arrangements for his family, such as adding his wife to his life insurance and getting her access to his bank accounts.--More information about his reported visit to a gun shop, where he acted so suspiciously while trying unsuccessfully to buy body armor and ammunition that the store owner said he called the FBI.--News that two FBI agents spent an hour at a mosque where the shooter used to pray and spoke with officials.--Word that the FBI is scrutinizing surveillance video recorded during the shooting.Financial preparationsThe killer, Omar Mateen, apparently made some financial preparations for his family in the months before the attack, two law enforcement officials briefed on the investigation told CNN on Friday.That included adding the name of his wife, Noor Salman, to his life insurance policy and other documents, and making sure she had access to his bank accounts.JUST WATCHED Fmr. Intel Chair: Killer's preps show someone knew more Replay More Videos ... MUST WATCH Fmr. Intel Chair: Killer's preps show someone knew more 02:07He also bought her an expensive piece of jewelry, the sources said."We know what he was planning. The question is, was she aware he was planning it and that's what (investigators are) going to be doing, trying to find out what pieces of the puzzle start making a picture of her liability or responsibility for it," CNN legal analyst Mark O'Mara told "Erin Burnett OutFront." O'Mara noted that Salman likely had to go to the bank and sign documents to have access to her husband's accounts, and the FBI will look at that kind of evidence as it looks into what she might have known before the nightclub attack.JUST WATCHED Orlando GoFundMe breaks record Replay More Videos ... MUST WATCH Orlando GoFundMe breaks record 01:49She also told investigators that in the weeks before the attack, her husband spent thousands of dollars, including money for the guns that he used.In May, the shooter transferred for $10 his share of a house where his sister and brother live to the couple. The family did not return calls seeking comment Friday.One source said the behavior suggested premeditation. "This wasn't something that (the shooter) decided to do in 30 seconds," the source said.Trouble at schoolAs a student at Florida's Martin County High School, the future killer was suspended from for a total of 48 days -- five days out of school and 43 in-school suspension days, according to the school.Among the suspensions were two for "fighting with injury," according to documents provided to CNN.Years later, in 2007, Mateen's misbehavior led to his dismissal from the Florida Correction Academy at Indian River State College.JUST WATCHED Residents concerned where Mateen worked in guardhouse Replay More Videos ... MUST WATCH Residents concerned where Mateen worked in guardhouse 02:28He "was not fit to serve as a member of the FDC (Florida Department of Corrections) team, as he was unable to meet the basic requirements of the correctional officer academy," that agency told CNN.Among the documents provided to CNN were reports of Mateen falling asleep in class at least twice, and an incident where he inquired about whether a fellow recruit would say anything if he brought a gun to the school.The school note about his dismissal said that gun incident was especially disturbing "in light of recent tragic events at Virginia Tech," a reference to the 2007 slaying of 32 people by a gunman; the Virginia Tech massacre had occurred just two days after the reported gun comments by Mateen.It was nothing new for him to get in trouble at school.He was disciplined for behavioral issues 31 times in elementary school and had repeated intervention from teachers and school psychologists, according to school records obtained by CNN. The records, which cover the school years 1992-1998, include a written report from his third grade teacher that describes him as being "verbally abusive, rude, aggressive, (and engaging in) much talk about violence."CNN also had learned from a former classmate that Mateen threatened to bring a gun to school while he was in fifth grade and kill everyone.. The classmate could not recall the shooter's punishment but recalls "it was a very big deal at the time."Phone call with a friend -- during the attackOn the morning of the massacre, there was a lull in the gunfire while the killer held hostages and police contemplated a rescue. The shooter was on the phone several times during that time and also used Facebook, officials have said."America and Russia stop bombing the Islamic state," the gunman wrote, according to the chairman of the Senate Committee on Homeland Security and Governmental Affairs."You kill innocent women and children by doing us airstrikes ... now taste the Islamic state vengeance."Then, in his final post, a warning: ''In the next few days you will see attacks from the Islamic state in the usa."Meanwhile, a friend who is a medical professional saw these posts at his home in Washington, D.C., and called the shooter, three law enforcement officials said Friday. The friend said they discussed medication, one source said. It was not clear whether the friend was aware that a massacre was ongoing.The friend subsequently contacted the FBI and was interviewed. Investigators do not believe that individual had prior knowledge of the attack or was involved in any way according to the officials.CNN previously reported the shooter spoke to a friend during the rampage and said goodbye, but the sources could not say if this was the same person.Gun shop visitThe owner of a gun store where the killer apparently tried to buy body armor and ammunition in bulk weeks before the attack says he reported the effort to authorities.But the tip went nowhere because the store didn't know the man's name and had no way to lead authorities to him, owner Robert Abell told reporters Thursday."We had no link, no contact, we didn't know who he was, but we did contact authorities and let them know we just had a suspicious person in here," said Abell, the owner of Lotus Gunworks in Jensen Beach, Florida.Authorities received a report from the store of a suspicious man who tried to buy body armor, three law enforcement officials told CNN, but the details of their account of the encounter were slightly different than Abell's.They said the store first alerted authorities to a group of men who appeared to be of Middle Eastern descent buying police gear. The FBI looked into it and determined the men were visiting police officers and the purchase was not suspicious.Friday, the FBI said agents went to Lotus Gunworks in May on an "unrelated investigative matter" and during that visit an employee mentioned a person had come by the store a few days before trying to buying body armor.The store was "unable to collect any information about him, to include name, date of birth, charge card, telephonic information or email address," the FBI said in a statement.It was after the mass killings that store employees recognized Mateen, 29, as the man who visited their store about six weeks earlier, Abell said.JUST WATCHED Investigators look into Omar Mateen's past Replay More Videos ... MUST WATCH Investigators look into Omar Mateen's past 01:53Abell said the man sought high-level body armor that the store doesn't carry and asked questions that seemed unusual for a civilian."Our salesman got very concerned about it and just informed him we do not have this body armor. At this time, he pulled away and got onto the cell phone," Abell said. "When he was on the cell phone, he had a conversation in a foreign language that was more concerning. Then he came back and he was requesting ammo. He wanted bulk ammo only."The employee -- by now increasingly suspicious -- told the killer that the store didn't have the bulk ammo and the man left, Abell said.Gunman's wife under scrutinyOne focus of the investigation has been the shooter's wife, and Thursday a law enforcement official briefed on the investigation told CNN that the couple exchanged text messages during the shooting.Around 4 a.m. Sunday, about two hours after he started the attack and while holed up in a bathroom, the shooter texted his wife asking if she'd seen the news, the official said.At one point, she responded with a text saying that she loved him. She also tried calling her husband several times during the standoff, a second law enforcement official said.The timing of her calls came after reports of the attack had emerged and apparently after she realized her husband might be responsible. He didn't answer his wife's calls, the official said.It's not clear if Salman made any attempt to report her husband during that time.Salman is coming under increasing scrutiny as authorities investigate the shooting.Salman apparently gave conflicting accounts about what she knew of her husband's intentions in the hours before the attack, authorities said.Salman married her husband in 2011. They have a 3-year-old son and lived in Fort Pierce, about two hours from the massacre.A U.S. attorney plans to bring evidence before a federal grand jury to determine whether charges will be filed, two law enforcement officials said.ISIS, or personal conflict?Despite the killer's repeated pledges of allegiance to ISIS on the morning of the massacre, some say they believe he was actually fueled by struggles with his sexuality -- and may have latched on to ISIS as a vehicle for his anger.JUST WATCHED Witness: We thought gunshots were 'part of the music' Replay More Videos ... MUST WATCH Witness: We thought gunshots were 'part of the music' 05:24Several regulars at the gay nightclub said the gunman visited frequently over the past few years. One said his friend had communicated with the shooter for years on a gay dating app.JUST WATCHED Ex-wife: I questioned his sexuality Replay More Videos ... MUST WATCH Ex-wife: I questioned his sexuality 02:01"(The gunman) sent him a picture of his private part, and my friend actually was attracted to him. He almost went and hooked up with him," Cord Cedeno said.The gunman's ex-wife, Sitora Yusufiy, said she was not sure about his sexuality."It doesn't surprise me that he might be gay," she said. "And it doesn't surprise me that he was leading two totally different lives and was in such deep conflict within himself."But the gunman's father, Seddique Mateen, has said he didn't think his son was gay. He emphasized that the killer had a wife and child.On Friday FBI agents visited the mosque where the killer prayed for many years, including the Friday before the massacre. The agents spent about an hour questioning mosque leaders about the shooter's relationships with other members of the Islamic center and local Islamic community, according to a representative of the Fort Pierce Islamic Center.Also Friday, New York University confirmed the killer traveled on a pilgrimage to holy sites in Saudi Arabia organized by the university's Islamic Center in 2012.He was among about 80 people on the trip, including three others assumed to be his family members, NYU spokesman John Beckman said. There's no indication now that the shooter was in contact with any suspicious individuals during that travel, an official familiar with the investigation had told CNN earlier.Dar El Salam, a U.S.-based travel agency, said the gunman went on that trip and also traveled in 2011 with a group called Sacred Caravan.