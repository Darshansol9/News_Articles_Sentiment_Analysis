(CNN) As conservative radio host Ben Shapiro spoke at the University of California Berkeley, protesters swarmed outside chanting various slogans.Police stood in full riot gear, standing guard as the school took extensive security measures, shutting down surrounding buildings and setting up a large perimeter around the hall where Shapiro gave a speech and answered questions Thursday night.The school was facing a critical test on whether it could prevent violence from breaking out. The protests appeared mostly peaceful -- although CNN witnessed a scuffle between a Shapiro supporter and another woman.Berkeley police said there were no reported injuries due to violence and no reports of any damage to property Thursday, as the crowd swelled to nearly 1,000 people.Police arrested nine people outside the event, according to Berkeley Police and Alameda County Sheriff's Office. At least three of those people were taken into custody for "carrying banned weapons."Officials had hoped to avoid the kind of violence that erupted on campus when right-wing commentator Milo Yiannopoulos came to speak in February. Protesters caused $100,000 worth of damage to the public university when they threw fireworks, rocks and Molotov cocktails on campus, forcing the event to be canceled. The university blamed "150 masked agitators" for some of the violence, during which some conservatives were attacked.That event prompted questions about whether UC Berkeley, the birthplace of the Free Speech Movement in the 1960s, could host different ideas, including conservative speakers, on its famously liberal campus.Before heading to Berkeley, Shapiro had told CNN sister network HLN, "I'm excited to speak with the students. I'm not excited about what may transpire outside the building."According to a Facebook page about the event, Shapiro's speech was entitled "Say No to Campus Thuggery."Inside the auditorium, Shapiro blasted identity politics of the left and the idea that speech can be a form of violence.This wasn't Shapiro's first time speaking at UC Berkeley. He spoke there in April 2016 with little fanfare or protest.But this time around, protesters and onlookers gathered, shouting "No Trump. No KKK. No fascist USA.""I really don't think it has anything to do with me," Shapiro had said before the event. "I think it's anyone perceived as conservative by Antifa and radical left groups like that, is immediately called a Nazi and a fascist."He was invited back on campus by the Berkeley College Republicans and the Young America's Foundation."Antifa" is short for anti-fascists, a broad group of people whose political beliefs lean toward the left -- often the far left -- but do not conform with the Democratic Party platform. The group doesn't have an official leader or headquarters, although groups in certain states hold regular meetings. Some people who identify with the group have been blamed for violence during demonstrations in Charlottesville, Virginia, and in the city of Berkeley in August.Shapiro is not a Trump supporter and sharply disagrees with Yiannopoulos, whom he calls a "provocateur." He has also been listed as one of the top 10 Jewish journalists to receive the most online abuse by the Anti-Defamation League in 2016.Shapiro, editor-in-chief of the Daily Wire, was critical of Antifa and how Berkeley authorities have handled political events in the city this year."I think that Antifa has decided that Berkeley is a city that they now own. They're almost treating it like a territory," he told HLN. "I don't blame Berkeley for Antifa. I blame Berkeley for letting Antifa get away with this."In anticipation of Thursday's event, the Berkeley City Council authorized police to use pepper spray on violent protesters, reversing a 20-year ban on the weapon, CNN affiliates reported.UC Berkeley had also vowed to step up security measures, saying the school had learned lessons from the Yiannopoulos incident."We don't intend to abandon our commitment to free speech or our commitment to the safety and well-being of our campus community," Dan Mogulof, spokesman for UC Berkeley told CNN affiliate KPIX.He added that police would stop anyone wearing a mask and confront people acting unlawfully.On Thursday, officers were confronting people who were covering their faces as they had promised they would.The crowds dispersed about two hours after the event.Counseling to be offered for students and staffThe school was also to provide support and counseling services for students and staff over the Shapiro event."We are deeply concerned about the impact some speakers may have on individuals' sense of safety and belonging," said a UC Berkeley notice sent to students. "No one should be made to feel threatened or harassed simply because of who they are or for what they believe. For that reason, the following support services are being offered and encouraged."It went on to list student and employee support services.Shapiro mocked the notion that students may need counseling due to his speech."If you feel you need counseling because of my speech, you probably did need some sort of psychiatric help before that," he told HLN.Berkeley weighs free speech issueIn August, UC Berkeley's new chancellor Carol Christ unveiled the "Free Speech Year," pledging events to engage in the issues and offer discourse.Yiannopoulos has posted online that he intends to be on campus later this month for Free Speech Week with Steve Bannon, President Donald Trump's former chief strategist; and conservative commentator and author Ann Coulter in an event organized by a group called the Berkeley Patriot.The Free Speech Movement started at UC Berkeley in 1964 after students protested en masse when administrators tried to restrict their political activities on campus. On a typical day, activists for various causes line Sproul Plaza, the area that serves as a gateway into the universityOne man standing outside the university decried the security measures instituted by the school for Thursday's event.